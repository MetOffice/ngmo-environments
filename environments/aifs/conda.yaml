channels:
  - conda-forge
dependencies:
  - cuda
  - cuda-version=12.8
    # - earthkit-data=0.11.4 # not recognised by pip packages
  - earthkit-geo =0.3.0
  - ecmwf-opendata =0.3.19
  - flash-attn =2.7.2
  - huggingface_hub
  - matplotlib
  - numpy
  - pip
  - python

    # Only install with pip as a fallback
  - pip:
    - anemoi_inference==0.4.9
    - anemoi_models==0.3.1
    - anemoi_transform==0.1.0
    - anemoi_utils==0.4.9
    - earthkit_data==0.11.4
    - earthkit_meteo==0.3.0
    - earthkit_regrid==0.4.0

# anemoi deps - prefer using conda to pip
  - aniso8601
  - anytree
  - array-api-compat
  - attrs
  - cartopy
  - cfgrib
  - cfunits
  - dask
    # - eccodes >2.38 # not recognised by pip packages
  - einops
  - entrypoints
  - findlibs
  - gitdb
  - gitpython
  - hydra-core
  - joblib
  - jsonschema
  - jsonschema-specifications
  - lru-dict
  - markdown
  - netcdf4
  - packaging
    # - pdbufr # not recognised by pip packages
  - pydantic
  - pytorch
  - pytorch_geometric >=2.3,<2.5
  - pyyaml
  - referencing
  - rpds-py
  - scikit-learn
  - semantic_version
  - smmap <6
  - termcolor
  - threadpoolctl
  - tqdm
  - wcwidth
  - xarray
  - ecmwf-api-client
